"use strict";
const context_1 = require("../../lib/commands/context");
const settings_1 = require("../../lib/settings");
module.exports = {
    async 'context reset can remove a context key'(test) {
        // GIVEN
        const configuration = new settings_1.Configuration();
        configuration.context.set('foo', 'bar');
        configuration.context.set('baz', 'quux');
        test.deepEqual(configuration.context.all, {
            foo: 'bar',
            baz: 'quux'
        });
        // WHEN
        await context_1.realHandler({
            configuration,
            args: { reset: 'foo' }
        });
        // THEN
        test.deepEqual(configuration.context.all, {
            baz: 'quux'
        });
        test.done();
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5jb250ZXh0LWNvbW1hbmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXN0LmNvbnRleHQtY29tbWFuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esd0RBQXlEO0FBQ3pELGlEQUFtRDtBQUVuRCxpQkFBUztJQUNQLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxJQUFVO1FBQ3ZELFFBQVE7UUFDUixNQUFNLGFBQWEsR0FBRyxJQUFJLHdCQUFhLEVBQUUsQ0FBQztRQUMxQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDeEMsR0FBRyxFQUFFLEtBQUs7WUFDVixHQUFHLEVBQUUsTUFBTTtTQUNaLENBQUMsQ0FBQztRQUVILE9BQU87UUFDUCxNQUFNLHFCQUFXLENBQUM7WUFDaEIsYUFBYTtZQUNiLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7U0FDaEIsQ0FBQyxDQUFDO1FBRVYsT0FBTztRQUNQLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDeEMsR0FBRyxFQUFFLE1BQU07U0FDWixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDZCxDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlc3QgfSBmcm9tICdub2RldW5pdCc7XG5pbXBvcnQgeyByZWFsSGFuZGxlciB9IGZyb20gJy4uLy4uL2xpYi9jb21tYW5kcy9jb250ZXh0JztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi9saWIvc2V0dGluZ3MnO1xuXG5leHBvcnQgPSB7XG4gIGFzeW5jICdjb250ZXh0IHJlc2V0IGNhbiByZW1vdmUgYSBjb250ZXh0IGtleScodGVzdDogVGVzdCkge1xuICAgIC8vIEdJVkVOXG4gICAgY29uc3QgY29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG4gICAgY29uZmlndXJhdGlvbi5jb250ZXh0LnNldCgnZm9vJywgJ2JhcicpO1xuICAgIGNvbmZpZ3VyYXRpb24uY29udGV4dC5zZXQoJ2JheicsICdxdXV4Jyk7XG5cbiAgICB0ZXN0LmRlZXBFcXVhbChjb25maWd1cmF0aW9uLmNvbnRleHQuYWxsLCB7XG4gICAgICBmb286ICdiYXInLFxuICAgICAgYmF6OiAncXV1eCdcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICBhd2FpdCByZWFsSGFuZGxlcih7XG4gICAgICBjb25maWd1cmF0aW9uLFxuICAgICAgYXJnczogeyByZXNldDogJ2ZvbycgfVxuICAgIH0gYXMgYW55KTtcblxuICAgIC8vIFRIRU5cbiAgICB0ZXN0LmRlZXBFcXVhbChjb25maWd1cmF0aW9uLmNvbnRleHQuYWxsLCB7XG4gICAgICBiYXo6ICdxdXV4J1xuICAgIH0pO1xuXG4gICAgdGVzdC5kb25lKCk7XG4gIH0sXG59OyJdfQ==