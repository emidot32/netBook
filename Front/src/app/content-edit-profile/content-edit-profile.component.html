<div class="container">
  <form [formGroup]="form" name="form" novalidate>
  <h1 class="page-header">Edit Profile</h1>
  <div class="row">
    <div class="col-md-4 col-sm-6 col-xs-12">
      <div class="img-container">
        <div class="profile-img">
          <img src="{{ this.imagePath }}" class="avatar img-circle img-thumbnail"
               (error)="$event.target.src=getPhoto('default_avatar')" alt="avatar">
        </div>
        <h6>Change photo</h6>
        <input name="changeImg" type="file" formControlName="avatarFilePath"
               (change)="handleFileInput($event.target.files)" style="padding-left: 5vw;">
      </div>
    </div>
    <div class="col-md-8 col-sm-6 col-xs-12 personal-info">
      <h3>Personal information</h3>
      <form class="form-horizontal" [formGroup]="form" name="form" novalidate>
        <div class="form-group">
          <label class="col-lg-3 control-label">Name:</label>
          <div class="col-lg-8">
            <input class="form-control" type="text" formControlName="name">
            <div *ngFor="let validation of profileValidationMessages.name" class="error">
              <div *ngIf="form.get('name').hasError(validation.type) && 	form.controls['name'].touched"
                   class="help-block">{{validation.message}}</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">Status:</label>
          <div class="col-lg-8">
            <input class="form-control" type="text" formControlName="status">
            <div *ngFor="let validation of profileValidationMessages.status" class="error">
              <div *ngIf="form.get('status').hasError(validation.type) && 	form.controls['status'].touched"
                   class="help-block">{{validation.message}}</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">Email:</label>
          <div class="col-lg-8">
            <input class="form-control" type="text" formControlName="email">
            <div *ngFor="let validation of profileValidationMessages.email" class="error">
          		<div *ngIf="form.get('email').hasError(validation.type) && 	form.controls['email'].touched"
                   class="help-block">{{validation.message}}</div>
        	</div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">Country:</label>
          <div class="col-lg-8">
            <input class="form-control" type="text" formControlName="country">
            <div *ngFor="let validation of profileValidationMessages.country" class="error">
              <div *ngIf="form.get('country').hasError(validation.type) && 	form.controls['country'].touched"
                   class="help-block">{{validation.message}}</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">City:</label>
          <div class="col-lg-8">
            <input class="form-control" type="text" formControlName="city">
            <div *ngFor="let validation of profileValidationMessages.city" class="error">
              <div *ngIf="form.get('city').hasError(validation.type) && 	form.controls['city'].touched"
                   class="help-block">{{validation.message}}</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">Sex:</label>
          <div class="col-lg-8">
            <div class="ui-select">
              <select class="form-control" formControlName="sex">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Prefer not to say">Prefer not to say</option>
              </select>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-3 control-label">Password:</label>
          <div class="col-md-8">
            <input class="form-control" type="password" formControlName="password">
            <div *ngFor="let validation of profileValidationMessages.password" class="error">
         		 <div *ngIf="form.get('password').hasError(validation.type) &&   form.controls['password'].touched"
                  class="help-block">{{validation.message}}
             </div>
        	</div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-3 control-label">Confirm password:</label>
          <div class="col-md-8">
            <input class="form-control"  type="password" formControlName="confirmPassword">
            <div *ngIf="form.controls.password.value != form.controls.confirmPassword.value && form.controls.password.value" class="help-block"> Passwords do not match
             </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-3 control-label"></label>
          <div class="col-md-8">
            <input class="btn btn-primary" [disabled]="form.invalid || ((form.get('password').invalid &&
            form.controls['password'].touched)
            || (form.controls.password.value != form.controls.confirmPassword.value && form.controls.password.value))"
                   value="Save" type="button" (click)="edit()">
            <input class="btn btn-default" value="Back" type="button" (click)="goBack()">
          </div>
        </div>
      </form>
    </div>
  </div>
  </form>
</div>
